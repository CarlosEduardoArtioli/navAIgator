name: Send Automated Response on WhatsApp
description: Automate sending a response message to the last message received from a specific person on WhatsApp.
inputs:
  type: object
  properties:
    response_message:
      type: string
      description: The message to send in response.
  required:
    - response_message
steps:
  - type: deterministic
    description: Open WhatsApp Web in a new tab.
    action: open_tab
    params:
      url: "https://web.whatsapp.com/"
  - type: deterministic
    description: Wait for WhatsApp Web to load completely.
    action: wait_for_url
    params:
      url: "https://web.whatsapp.com/"
  - type: deterministic
    description: Click on the chat with the last message received.
    action: click_element_by_css_selector
    params:
      selector: "span.x1iyjqo2.x6ikm8r.x10wlt62.x1n2onr6.xlyipyv.xuxw1ft.x1rg5ohu._ao3e"
  - type: deterministic
    description: Input the response message in the chat box.
    action: input_text_by_css_selector
    params:
      selector: "div.x1hx0egp.x6ikm8r.x1odjw0f.x1k6rcq7.x6prxxf[aria-label*=\"Type a message\"][role=\"textbox\"]"
      text: "{response_message}"
  - type: deterministic
    description: Send the response message.
    action: send_keys
    params:
      keys: "Enter"
  - type: deterministic
    description: Complete the task.
    action: done
    params:
      text: "Response message sent successfully."
      success: true